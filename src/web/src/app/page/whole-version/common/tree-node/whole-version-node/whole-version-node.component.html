<div class="group-container">
  <div class="group {{ node.value?.realNode ? 'in-use-group' : 'not-in-use-group' }}" [ngClass]="{'deleted-group': node.value.isDeleted}">
    <group-header [node]="node" *ngIf="wholeVersionService.wholeVersionHeader.canChange && !node.value.isDeleted"></group-header>
    <group-body [node]="node"></group-body>
    <version-expand-block [node]="node">
      <div>
        <tree-container [node]="node">
          <ng-template #groupContainer let-child>
            <whole-version-node [node]="child"></whole-version-node>
          </ng-template>
        </tree-container>
        <ng-container *ngFor="let leaf of node.value.leafContent">
          <div class="leaf-content" [ngClass]="{'deleted-leaf': leaf.isDeleted}">
            <leaf-header [node]="node" [leaf]="leaf" *ngIf="wholeVersionService.wholeVersionHeader.canChange && !leaf.isDeleted"></leaf-header>
            <leaf-body [leaf]="leaf"></leaf-body>
          </div>
        </ng-container>
      </div>
    </version-expand-block>
  </div>
</div>